{
  "version": 1,
  "provider_id": "anthropic",
  "protocol": "anthropic",
  "model": "claude-3-opus",
  "endpoint_path": "messages",
  "request": {
    "method": "POST",
    "url": "http://localhost/v1/messages",
    "headers": {
      "content-type": "application/json",
      "anthropic-version": "2023-06-01",
      "x-api-key": "REDACTED"
    },
    "body": {
      "model": "claude-3-opus",
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Hello"
            }
          ]
        }
      ],
      "stream": true,
      "max_tokens": 32,
      "system": "You are a test system.",
      "temperature": 0.1,
      "top_p": 0.9,
      "thinking": {
        "type": "enabled",
        "budget_tokens": 256
      }
    }
  },
  "response": {
    "type": "stream",
    "status": 200,
    "headers": {
      "content-type": "text/event-stream"
    },
    "sse_events": [
      {
        "event": "content_block_start",
        "data": "{\"index\":0,\"content_block\":{\"type\":\"thinking\",\"id\":\"think-1\"}}"
      },
      {
        "event": "content_block_delta",
        "data": "{\"index\":0,\"delta\":{\"type\":\"thinking_delta\",\"text\":\"Analyzing\"}}"
      },
      {
        "event": "content_block_delta",
        "data": "{\"index\":0,\"delta\":{\"type\":\"signature_delta\",\"signature\":\"sig-1\"}}"
      },
      {
        "event": "content_block_delta",
        "data": "{\"index\":1,\"delta\":{\"type\":\"text_delta\",\"text\":\"Hello\"}}"
      },
      {
        "event": "message_delta",
        "data": "{\"delta\":{\"stop_reason\":\"end_turn\"},\"usage\":{\"input_tokens\":3,\"output_tokens\":2}}"
      },
      {
        "event": "message_stop",
        "data": "{}"
      }
    ]
  },
  "test_input": {
    "model": "claude-3-opus",
    "messages": [
      {
        "role": "system",
        "content": "You are a test system."
      },
      {
        "role": "user",
        "content": "Hello"
      }
    ],
    "tools": null,
    "temperature": 0.1,
    "max_tokens": 32,
    "top_p": 0.9,
    "top_k": null,
    "provider_options": {
      "anthropic": {
        "thinking": {
          "type": "enabled",
          "budget_tokens": 256
        }
      }
    },
    "extra_body": null
  },
  "expected_events": [
    {
      "type": "reasoning-start",
      "id": "think-1",
      "provider_metadata": null
    },
    {
      "type": "reasoning-delta",
      "id": "think-1",
      "text": "Analyzing",
      "provider_metadata": null
    },
    {
      "type": "reasoning-delta",
      "id": "think-1",
      "text": "",
      "provider_metadata": {
        "anthropic": {
          "signature": "sig-1"
        }
      }
    },
    {
      "type": "text-delta",
      "text": "Hello"
    },
    {
      "type": "text-start"
    },
    {
      "type": "text-delta",
      "text": "Hello"
    },
    {
      "type": "usage",
      "input_tokens": 3,
      "output_tokens": 2,
      "total_tokens": null,
      "cached_input_tokens": null,
      "cache_creation_input_tokens": null
    },
    {
      "type": "done",
      "finish_reason": "end_turn"
    }
  ]
}
